import{a as x,i as m,S as L}from"./assets/vendor-09d7c26e.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function a(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(e){if(e.ep)return;e.ep=!0;const o=a(e);fetch(e.href,o)}})();async function f(s,t,a=15){const i={http:"https://pixabay.com/api/",key:"43793393-3131be18ae161d81d2e9721c8",options:"image_type=photo&orientation=horizontal&safesearch=true"},e={key:i.key,q:s,per_page:a,page:t,...Object.fromEntries(new URLSearchParams(i.options))},{data:o}=await x.get(i.http,{params:e});if(o.totalHits){const n=Math.ceil(o.totalHits/a);window.totalPages=n}return o.hits}const r={searchForm:document.querySelector(".search-bar-form"),searchInput:document.querySelector("#search-bar"),searchButton:document.querySelector("button"),galleryList:document.querySelector(".gallery-list"),extensionButton:document.querySelector(".extentionButton")};function b(){return new L(".image-card-link",{caption:!0,captionSelector:"img",captionType:"attr",captionsData:"alt",captionDelay:250,captionPosition:"bottom"})}function w(){m.settings({timeout:5e3,titleColor:"#fff",position:"topRight",messageColor:"#fff",icon:"",close:!1})}function d(s="Sorry, there are no images matching your search query. Please try again!"){w(),m.error({message:s,class:"error-notification",timeout:5e3,iconUrl:"/img/octagon.svg",titleColor:"#fff",position:"topRight",backgroundColor:"red",messageColor:"#fff",progressBarColor:"#B51B1B",close:!0})}function g(s){const t=document.querySelector(".gallery-list"),a=s.map(({webformatURL:i,largeImageURL:e,tags:o,likes:n,views:h,comments:y,downloads:B})=>`
    <li class="image-card">
      <a href="${e}" class="image-card-link">
        <img src="${i}" width="360" height="200" class="image-card-thumb" alt="${o}">
        <ul class="image-card-details-list">
          <li class="image-card-details-list-item">
            <p class="image-card-details-title">Likes</p>
            <p class="image-card-details-text">${n}</p>
          </li>
          <li class="image-card-details-list-item">
            <p class="image-card-details-title">Views</p>
            <p class="image-card-details-text">${h}</p>
          </li>
          <li class="image-card-details-list-item">
            <p class="image-card-details-title">Comments</p>
            <p class="image-card-details-text">${y}</p>
          </li>
          <li class="image-card-details-list-item">
            <p class="image-card-details-title">Downloads</p>
            <p class="image-card-details-text">${B}</p>
          </li>
        </ul>
      </a>
    </li>`).join("");t.insertAdjacentHTML("beforeend",a),b().refresh()}function v(){l>=window.totalPages&&(r.extensionButton.style.display="none",m.error({message:"We're sorry, there are no more posts to load",class:"error-notification",timeout:5e3,iconUrl:"/img/octagon.svg",titleColor:"#fff",position:"topRight",backgroundColor:"red",messageColor:"#fff",progressBarColor:"#B51B1B",close:!0}))}function u(s){document.querySelector(".loader").classList.toggle("is-active",s)}let p=15,c="",l=1;function S(){r.galleryList.innerHTML=""}r.searchForm.dataset.listenerAttached||(r.searchForm.dataset.listenerAttached="true",r.searchForm.addEventListener("submit",async s=>{if(s.preventDefault(),S(),c=r.searchInput.value.trim(),l=1,c===""){r.extensionButton.style.display="none",d("Please enter a search term.");return}r.extensionButton.style.display="none",u(!0),setTimeout(async()=>{try{const t=await f(c,l,p);g(t),r.galleryList.childElementCount<=0&&d("No images found."),t.length>0?(r.extensionButton.style.display="block",r.extensionButton.classList.remove("extentionButton"),r.extensionButton.classList.add("div-button")):r.extensionButton.style.display="none"}catch(t){console.error("Error fetching or updating images:",t),d("An error occurred while fetching images.")}finally{u(!1)}},1e3),r.searchInput.value=""}));r.extensionButton.dataset.listenerAttached||(r.extensionButton.dataset.listenerAttached="true",r.extensionButton.addEventListener("click",async s=>{s.preventDefault(),u(!0),l+=1,setTimeout(async()=>{try{const t=await f(c,l,p);g(t),v(),C()}catch(t){console.error("Error fetching or updating images:",t)}finally{u(!1)}},1e3)}));function C(){const t=r.galleryList.getBoundingClientRect().height*2,a=500,i=t/(1e3/a);let e=0;const o=setInterval(()=>{window.scrollBy({top:i,left:0,behavior:"smooth"}),e+=i,e>=t&&clearInterval(o)},a)}
//# sourceMappingURL=commonHelpers.js.map
